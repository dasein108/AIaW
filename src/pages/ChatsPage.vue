<template>
  <router-view @toggle-drawer="drawerOpen = !drawerOpen" />
  <q-drawer
    show-if-above
    bg-sur-c-low
    :width="275"
    :breakpoint="drawerBreakpoint"
    side="right"
    v-model="drawerOpen"
  >
    <chats-expansion
      :label="$t('chatsPage.chats')"
      header-class="text-lg"
      default-opened
      :workspace-id="null"
    />
  </q-drawer>
</template>

<script setup lang="ts">
import { computed, provide, ref } from 'vue'
import { useQuasar } from 'quasar'
import ChatsExpansion from 'src/components/chats/ChatsExpansion.vue'
import { useRoute } from 'vue-router'

const route = useRoute()
const drawerOpen = ref(false)
const drawerBreakpoint = 960
const $q = useQuasar()
const rightDrawerAbove = computed(() => $q.screen.width > drawerBreakpoint)
provide('rightDrawerAbove', rightDrawerAbove)
</script>
